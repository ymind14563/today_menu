# today_menu


## ✅ 목표
- **식당 2곳의 메뉴판 이미지를 매일 자동으로 수집하고 웹에 표시**
- 메뉴는 하루에 한 번 올라오고, **언제 올라올지 모르며**
- 반드시 **"오늘 날짜의 메뉴만" 정확히 판별**해야 함
- 결과는 **Google Apps Script Web App**으로 사용자에게 보여줌
- 전체 시스템은 **완전 무료**, **6분 내 실행 시간 제한**, **단순하고 안정적이어야 함**

---

## 🥢 대상 사이트 2곳

### 1. **네이버 블로그**
- 고정 URL은 **최신글이 아님**
- 좌측 메뉴의 "전체보기" 클릭 필요
- 글 제목에 날짜가 포함됨 (예: `"4월 18일 (금)"`)
- 단, **내일·모레 메뉴도 미리 올라올 수 있음**
- 따라서 **오늘 날짜 포함 제목만 필터링**해야 하며
- 해당 글에 들어가서 **본문 이미지 URL 추출**

---

### 2. **카카오 채널**
- 프사(프로필 이미지)에 **메뉴판 사진이 포함됨**
- 클릭 시 모달 팝업으로 확대된 이미지 확인 가능
- 이미지 외 날짜 정보는 없음 → **오늘 메뉴인지 확정 불가**
- 다만, **프사 이미지 URL이 매일 바뀜**  

---

## 🛠 작동 흐름

1. **Python + Selenium으로 2곳 크롤링**
2. **네이버: 오늘 날짜 제목 탐색 → 본문 이미지 URL 추출**
3. **카카오: 프사 클릭 → 모달 이미지 URL 추출**
4. **각 URL을 이전에 저장된 URL과 비교 → 새 이미지 여부 판단**
5. **오늘 메뉴로 확정된 이미지 1~2개를 Google Apps Script Web App으로 전달**
6. **Apps Script는 URL 기반 `<img>`로 사용자에게 보여줌**

---

## 🎯 추가 고려사항

- 크롤링은 **10시~13시 사이 30분 간격 하루 6회 반복 실행**
- 셀레니움에 **User-Agent 설정 + 랜덤 딜레이**
- 이미지 파일은 저장하지 않음 → **URL만 저장 및 비교**
- **Google Drive 미사용**, **API 호출 없이 단독 동작**
- 구글앱스는 URL만 전달받아 **HTML로 렌더링**
